<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>harvester_e2e_tests.integrations.test_1_images API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>harvester_e2e_tests.integrations.test_1_images</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="harvester_e2e_tests.integrations.test_1_images.cluster_network"><code class="name flex">
<span>def <span class="ident">cluster_network</span></span>(<span>api_client, vlan_nic)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.create_image_url"><code class="name flex">
<span>def <span class="ident">create_image_url</span></span>(<span>api_client, name, image_url, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.delete_image"><code class="name flex">
<span>def <span class="ident">delete_image</span></span>(<span>api_client, image_name, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.delete_volume"><code class="name flex">
<span>def <span class="ident">delete_volume</span></span>(<span>api_client, volume_name, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.export_storage_class"><code class="name flex">
<span>def <span class="ident">export_storage_class</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.fake_invalid_image_file"><code class="name flex">
<span>def <span class="ident">fake_invalid_image_file</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.get_image"><code class="name flex">
<span>def <span class="ident">get_image</span></span>(<span>api_client, image_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.image_info"><code class="name flex">
<span>def <span class="ident">image_info</span></span>(<span>request)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.storage_network"><code class="name flex">
<span>def <span class="ident">storage_network</span></span>(<span>api_client, cluster_network, vlan_id, vlan_cidr, setting_checker)</span>
</code></dt>
<dd>
<div class="desc"><p>Ref. <a href="https://docs.harvesterhci.io/v1.3/advanced/storagenetwork/#configuration-example">https://docs.harvesterhci.io/v1.3/advanced/storagenetwork/#configuration-example</a></p></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.vlan_cidr"><code class="name flex">
<span>def <span class="ident">vlan_cidr</span></span>(<span>api_client, cluster_network, vlan_id, wait_timeout, sleep_timeout)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages"><code class="flex name class">
<span>class <span class="ident">TestBackendImages</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.mark.p0
class TestBackendImages:
    @pytest.mark.p0
    @pytest.mark.dependency(name=&#34;create_image_from_volume&#34;)
    def test_create_image_from_volume(
        self, api_client, unique_name, export_storage_class, wait_timeout
    ):
        &#34;&#34;&#34;
        Test create image from volume

        Steps:
            1. Create a volume &#34;test-volume&#34; in Volumes page
            2. Export the volume to image &#34;export-image&#34;
            3. Check the image &#34;export-image&#34; exists
            4. Cleanup image &#34;export-image&#34; on Images page
            5. Cleanup volume &#34;test-volume&#34; on Volumes page
        &#34;&#34;&#34;

        volume_name = f&#34;volume-{unique_name}&#34;
        image_name = f&#34;image-{unique_name}&#34;

        spec = api_client.volumes.Spec(1)
        code, data = api_client.volumes.create(volume_name, spec)

        assert 201 == code, (code, data)

        # Check volume ready
        endtime = datetime.now() + timedelta(seconds=wait_timeout)
        while endtime &gt; datetime.now():
            code, data = api_client.volumes.get(volume_name)
            if data[&#34;status&#34;][&#34;phase&#34;] == &#34;Bound&#34;:
                break
            sleep(5)
        else:
            raise AssertionError(
                f&#34;Failed to delete volume {volume_name} bound in {wait_timeout} timed out\n&#34;
                f&#34;Still got {code} with {data}&#34;
            )

        api_client.volumes.export(volume_name, image_name, export_storage_class)

        endtime = datetime.now() + timedelta(seconds=wait_timeout)

        image_id = &#34;&#34;
        while endtime &gt; datetime.now():
            code, data = api_client.images.get()
            assert 200 == code, (code, data)

            for image in data[&#34;items&#34;]:
                if image[&#34;spec&#34;][&#34;displayName&#34;] == image_name:
                    if 100 == image.get(&#34;status&#34;, {}).get(&#34;progress&#34;, 0):
                        image_id = image[&#34;metadata&#34;][&#34;name&#34;]
                    break
            else:
                raise AssertionError(f&#34;Failed to find image {image_name}&#34;)

            if image_id != &#34;&#34;:
                break

            sleep(3)  # snooze

        delete_volume(api_client, volume_name, wait_timeout)
        delete_image(api_client, image_id, wait_timeout)

    @pytest.mark.p0
    @pytest.mark.dependency(name=&#34;create_image_url&#34;)
    def test_create_image_url(self, image_info, unique_name, api_client, wait_timeout):
        &#34;&#34;&#34;
        Test create raw and iso type image from url

        Steps:
        1. Open image page and select default URL
        2. Input qcow2 image file download URL, wait for download complete
        3. Check the qcow2 image exists
        4. Input iso image file download URL, wait for download complete
        5. Check the iso image exists
        &#34;&#34;&#34;
        image_name = f&#34;{image_info.name}-{unique_name}&#34;
        image_url = image_info.url
        create_image_url(api_client, image_name, image_url, wait_timeout)

    @pytest.mark.skip_version_if(&#34;&gt; v1.2.0&#34;, &#34;&lt;= v1.4.0&#34;, reason=&#34;Issue#4293 fix after `v1.4.0`&#34;)
    @pytest.mark.p0
    @pytest.mark.dependency(name=&#34;delete_image_recreate&#34;, depends=[&#34;create_image_url&#34;])
    def test_delete_image_recreate(
        self,
        api_client,
        image_info,
        unique_name,
        fake_image_file,
        wait_timeout,
    ):
        &#34;&#34;&#34;
        Test create raw and iso type image from file

        Steps:
        1. Check the image created by URL exists
        2. Delete the newly created image
        3. Create an iso file type image from URL
        4. Check the iso image exists
        5. Upload an qcow2 file type image
        5. Delete the newly uploaded file
        6. Upload a new qcow2 file type image
        &#34;&#34;&#34;
        image_name = f&#34;{image_info.name}-{unique_name}&#34;
        image_url = image_info.url

        get_image(api_client, image_name)
        delete_image(api_client, image_name, wait_timeout)

        create_image_url(api_client, image_name, image_url, wait_timeout)
        get_image(api_client, image_name)

        resp = api_client.images.create_by_file(unique_name, fake_image_file)

        assert (
            200 == resp.status_code
        ), f&#34;Failed to upload fake image with error:{resp.status_code}, {resp.content}&#34;

        get_image(api_client, unique_name)
        delete_image(api_client, unique_name, wait_timeout)

        resp = api_client.images.create_by_file(unique_name, fake_image_file)

        assert (
            200 == resp.status_code
        ), f&#34;Failed to upload fake image with error:{resp.status_code}, {resp.content}&#34;

        get_image(api_client, unique_name)
        delete_image(api_client, unique_name, wait_timeout)

    @pytest.mark.p0
    def test_create_invalid_file(
        self, api_client, gen_unique_name, fake_invalid_image_file, wait_timeout
    ):
        &#34;&#34;&#34;
        Test create upload image from invalid file type

        Steps:
        1. Prepare an invalid file that is not in a multiple of 512 bytes
        2. Try to upload invalid image file which to images page
        2. Check should get an error
        &#34;&#34;&#34;
        unique_name = gen_unique_name()
        resp = api_client.images.create_by_file(unique_name, fake_invalid_image_file)

        assert (
            500 == resp.status_code
        ), f&#34;File size correct, it&#39;s a multiple of 512 bytes:{resp.status_code}, {resp.content}&#34;
        delete_image(api_client, unique_name, wait_timeout)

    @pytest.mark.p0
    @pytest.mark.dependency(name=&#34;edit_image_in_use&#34;, depends=[&#34;create_image_url&#34;])
    def test_edit_image_in_use(self, api_client, unique_name, image_info, wait_timeout):
        &#34;&#34;&#34;
        Test can edit image which already in use

        Steps:
        1. Check the image created from URL exists
        2. Create a volume from existing image
        3. Update the image labels and description
        4. Check can change the image content
        &#34;&#34;&#34;

        image_name = f&#34;{image_info.name}-{unique_name}&#34;
        volume_name = f&#34;volume-{image_info.name}-{unique_name}&#34;

        code, data = api_client.images.get(name=image_name)
        assert 200 == code, (code, data)

        image_id = f&#34;{data[&#39;metadata&#39;][&#39;namespace&#39;]}/{image_name}&#34;

        # Create volume from image_id
        spec = api_client.volumes.Spec(1)
        code, data = api_client.volumes.create(volume_name, spec, image_id=image_id)
        assert 201 == code, (code, data)

        # Check volume ready
        endtime = datetime.now() + timedelta(seconds=wait_timeout)
        while endtime &gt; datetime.now():
            code, data = api_client.volumes.get(volume_name)
            if data[&#34;status&#34;][&#34;phase&#34;] == &#34;Bound&#34;:
                break
            sleep(5)
        else:
            raise AssertionError(
                f&#34;Failed to delete volume {unique_name} bound in {wait_timeout} timed out\n&#34;
                f&#34;Still got {code} with {data}&#34;
            )

        # Update image content
        updates = {
            &#34;labels&#34;: {&#34;usage-label&#34;: &#34;yes&#34;},
            &#34;annotations&#34;: {&#34;field.cattle.io/description&#34;: &#34;edit image in use&#34;},
        }

        # Update image by input
        code, data = api_client.images.update(image_name, dict(metadata=updates))
        assert 200 == code, f&#34;Failed to update image with error: {code}, {data}&#34;

        unexpected = list()
        for field, pairs in updates.items():
            for k, val in pairs.items():
                if data[&#34;metadata&#34;][field].get(k) != val:
                    unexpected.append((field, k, val, data[&#34;metadata&#34;][field].get(k)))

        assert not unexpected, &#34;\n&#34;.join(
            f&#34;Update {f} failed, set key {k} as {v} but got {n}&#34;
            for f, k, v, n in unexpected
        )

        delete_volume(api_client, volume_name, wait_timeout)
        delete_image(api_client, image_name, wait_timeout)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.pytestmark"><code class="name">var <span class="ident">pytestmark</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_image_from_volume"><code class="name flex">
<span>def <span class="ident">test_create_image_from_volume</span></span>(<span>self, api_client, unique_name, export_storage_class, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"><p>Test create image from volume</p>
<h2 id="steps">Steps</h2>
<ol>
<li>Create a volume "test-volume" in Volumes page</li>
<li>Export the volume to image "export-image"</li>
<li>Check the image "export-image" exists</li>
<li>Cleanup image "export-image" on Images page</li>
<li>Cleanup volume "test-volume" on Volumes page</li>
</ol></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_image_url"><code class="name flex">
<span>def <span class="ident">test_create_image_url</span></span>(<span>self, image_info, unique_name, api_client, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"><p>Test create raw and iso type image from url</p>
<p>Steps:
1. Open image page and select default URL
2. Input qcow2 image file download URL, wait for download complete
3. Check the qcow2 image exists
4. Input iso image file download URL, wait for download complete
5. Check the iso image exists</p></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_invalid_file"><code class="name flex">
<span>def <span class="ident">test_create_invalid_file</span></span>(<span>self, api_client, gen_unique_name, fake_invalid_image_file, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"><p>Test create upload image from invalid file type</p>
<p>Steps:
1. Prepare an invalid file that is not in a multiple of 512 bytes
2. Try to upload invalid image file which to images page
2. Check should get an error</p></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_delete_image_recreate"><code class="name flex">
<span>def <span class="ident">test_delete_image_recreate</span></span>(<span>self, api_client, image_info, unique_name, fake_image_file, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"><p>Test create raw and iso type image from file</p>
<p>Steps:
1. Check the image created by URL exists
2. Delete the newly created image
3. Create an iso file type image from URL
4. Check the iso image exists
5. Upload an qcow2 file type image
5. Delete the newly uploaded file
6. Upload a new qcow2 file type image</p></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_edit_image_in_use"><code class="name flex">
<span>def <span class="ident">test_edit_image_in_use</span></span>(<span>self, api_client, unique_name, image_info, wait_timeout)</span>
</code></dt>
<dd>
<div class="desc"><p>Test can edit image which already in use</p>
<p>Steps:
1. Check the image created from URL exists
2. Create a volume from existing image
3. Update the image labels and description
4. Check can change the image content</p></div>
</dd>
</dl>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork"><code class="flex name class">
<span>class <span class="ident">TestImageWithStorageNetwork</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pytest.mark.p0
@pytest.mark.skip_version_if(&#34;&lt; v1.0.3&#34;)
@pytest.mark.usefixtures(&#34;storage_network&#34;)
class TestImageWithStorageNetwork:
    @pytest.mark.dependency(name=&#34;create_image_by_file&#34;)
    def test_create_image_by_file(self, api_client, fake_image_file, unique_name):
        resp = api_client.images.create_by_file(unique_name, fake_image_file)
        assert resp.ok, f&#34;Fail to upload fake image with error: {resp.status_code}, {resp.text}&#34;

        code, data = api_client.images.get(unique_name)
        assert 200 == code, (code, data)
        assert unique_name == data[&#34;metadata&#34;][&#34;name&#34;], (code, data)

    @pytest.mark.dependency(depends=[&#34;create_image_by_file&#34;])
    def test_download_image(self, api_client, fake_image_file, tmp_path, unique_name):
        resp = api_client.images.download(unique_name)
        assert resp.ok, f&#34;Fail to download fake image with error: {resp.status_code}, {resp.text}&#34;

        filename = re.search(r&#39;filename=(\S+)&#39;, resp.headers.get(&#34;Content-Disposition&#34;))
        assert filename, f&#34;No filename info in the response header: {resp.headers}&#34;
        filename = filename.groups()[0]

        tmp_image_file = tmp_path / filename
        tmp_image_file.write_bytes(
            zlib.decompress(resp.content, 32+15) if &#34;.gz&#34; in filename else resp.content
        )
        assert filecmp.cmp(fake_image_file, tmp_image_file), (
            &#34;Contents of downloaded image is NOT identical to the fake image&#34;
        )

    @pytest.mark.dependency(depends=[&#34;create_image_by_file&#34;])
    def test_delete_image(self, api_client, unique_name, wait_timeout, sleep_timeout):
        code, data = api_client.images.delete(unique_name)
        assert 200 == code, (code, data)

        endtime = datetime.now() + timedelta(seconds=wait_timeout)
        while endtime &gt; datetime.now():
            code, data = api_client.images.get(unique_name)
            if code == 404:
                break
            sleep(sleep_timeout)
        else:
            raise AssertionError(
                f&#34;Fail to delete image {unique_name} with error: {code}, {data}&#34;
            )</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.pytestmark"><code class="name">var <span class="ident">pytestmark</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_create_image_by_file"><code class="name flex">
<span>def <span class="ident">test_create_image_by_file</span></span>(<span>self, api_client, fake_image_file, unique_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_delete_image"><code class="name flex">
<span>def <span class="ident">test_delete_image</span></span>(<span>self, api_client, unique_name, wait_timeout, sleep_timeout)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_download_image"><code class="name flex">
<span>def <span class="ident">test_download_image</span></span>(<span>self, api_client, fake_image_file, tmp_path, unique_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="harvester_e2e_tests.integrations" href="index.html">harvester_e2e_tests.integrations</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.cluster_network" href="#harvester_e2e_tests.integrations.test_1_images.cluster_network">cluster_network</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.create_image_url" href="#harvester_e2e_tests.integrations.test_1_images.create_image_url">create_image_url</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.delete_image" href="#harvester_e2e_tests.integrations.test_1_images.delete_image">delete_image</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.delete_volume" href="#harvester_e2e_tests.integrations.test_1_images.delete_volume">delete_volume</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.export_storage_class" href="#harvester_e2e_tests.integrations.test_1_images.export_storage_class">export_storage_class</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.fake_invalid_image_file" href="#harvester_e2e_tests.integrations.test_1_images.fake_invalid_image_file">fake_invalid_image_file</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.get_image" href="#harvester_e2e_tests.integrations.test_1_images.get_image">get_image</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.image_info" href="#harvester_e2e_tests.integrations.test_1_images.image_info">image_info</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.storage_network" href="#harvester_e2e_tests.integrations.test_1_images.storage_network">storage_network</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.vlan_cidr" href="#harvester_e2e_tests.integrations.test_1_images.vlan_cidr">vlan_cidr</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages">TestBackendImages</a></code></h4>
<ul class="">
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.pytestmark" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages.pytestmark">pytestmark</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_image_from_volume" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_image_from_volume">test_create_image_from_volume</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_image_url" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_image_url">test_create_image_url</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_invalid_file" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_create_invalid_file">test_create_invalid_file</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_delete_image_recreate" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_delete_image_recreate">test_delete_image_recreate</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_edit_image_in_use" href="#harvester_e2e_tests.integrations.test_1_images.TestBackendImages.test_edit_image_in_use">test_edit_image_in_use</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork" href="#harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork">TestImageWithStorageNetwork</a></code></h4>
<ul class="">
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.pytestmark" href="#harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.pytestmark">pytestmark</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_create_image_by_file" href="#harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_create_image_by_file">test_create_image_by_file</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_delete_image" href="#harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_delete_image">test_delete_image</a></code></li>
<li><code><a title="harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_download_image" href="#harvester_e2e_tests.integrations.test_1_images.TestImageWithStorageNetwork.test_download_image">test_download_image</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
