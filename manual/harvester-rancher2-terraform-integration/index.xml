<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Rancher2 Terraform Provider Integration on Harvester manual test cases</title>
    <link>https://harvester.github.io/tests/manual/harvester-rancher2-terraform-integration/</link>
    <description>Recent content in Rancher2 Terraform Provider Integration on Harvester manual test cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://harvester.github.io/tests/manual/harvester-rancher2-terraform-integration/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Terraform Rancher2 Provider Testing</title>
      <link>https://harvester.github.io/tests/manual/harvester-rancher2-terraform-integration/terraform_rancher2_provider_testing/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/harvester-rancher2-terraform-integration/terraform_rancher2_provider_testing/</guid>
      <description>&lt;p&gt;Ref: &lt;a href=&#34;https://github.com/rancher/terraform-provider-rancher2/issues/1009&#34;&gt;https://github.com/rancher/terraform-provider-rancher2/issues/1009&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;test-information&#34;&gt;Test Information&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Environment Rancher: v2.7.X&lt;/li&gt;&#xA;&lt;li&gt;Environment for Harvester: bare-metal or qemu&lt;/li&gt;&#xA;&lt;li&gt;Harvester Version: v1.1.X&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;ui-source&lt;/strong&gt; Option: &lt;strong&gt;Auto&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;Rancher2 Terraform Provider Plugin: v3.0.X &lt;a href=&#34;https://github.com/rancher/terraform-provider-rancher2/releases&#34;&gt;rancher2&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;test-setup-rancher2-terraform-provider&#34;&gt;Test Setup Rancher2 Terraform Provider:&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;make sure terraform is installed at version equal or greater than 1.3.9, ie: &lt;code&gt;sudo apt install terraform&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;utilize the &lt;a href=&#34;https://github.com/rancher/terraform-provider-rancher2/blob/master/setup-provider.sh&#34;&gt;setup-provider.sh&lt;/a&gt; script from the rancher2 terraform provider repo if testing an rc it would look something like &lt;code&gt;./setup-provider.sh rancher2 v3.0.0-rc1&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;ensure the provider is installed, can cross check the directory structures under &lt;code&gt;~/.terraform.d/plugins/terraform.local&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;setup-rancher-v27x&#34;&gt;Setup Rancher v2.7.X&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;build an API Key for Rancher utilizing &lt;a href=&#34;https://ranchermanager.docs.rancher.com/reference-guides/user-settings/api-keys&#34;&gt;this doc&lt;/a&gt;, keeping reference of the: access-key, secret-key, &amp;amp; bearer token&lt;/li&gt;&#xA;&lt;li&gt;import a harvester cluster into Rancher v2.7.X, keep reference of that Harvester cluster name&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;additional-setup&#34;&gt;Additional Setup&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;build out a temporary directory to preform this deep integration testing&lt;/li&gt;&#xA;&lt;li&gt;create the following two folders of something like:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;harvester-setup&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;rancher-setup&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;inside each folder create a:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;main.tf&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;provider.tf&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;harvester-setup&#34;&gt;Harvester Setup&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;download the Harvester kubeconfig file into the &lt;code&gt;harvester-setup&lt;/code&gt; folder&lt;/li&gt;&#xA;&lt;li&gt;inside the &lt;code&gt;harvester-setup&lt;/code&gt; folder in the &lt;code&gt;provider.tf&lt;/code&gt; file add:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;terraform {&#xA;  required_version = &amp;#34;&amp;gt;= 0.13&amp;#34;&#xA;  required_providers {&#xA;    harvester = {&#xA;      source  = &amp;#34;harvester/harvester&amp;#34;&#xA;      version = &amp;#34;0.6.1&amp;#34;&#xA;    }&#xA;  }&#xA;}&#xA;&#xA;provider &amp;#34;harvester&amp;#34; {&#xA;  kubeconfig = &amp;#34;&amp;lt;the kubeconfig file path of the harvester cluster&amp;gt;&amp;#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pr</description>
    </item>
  </channel>
</rss>
