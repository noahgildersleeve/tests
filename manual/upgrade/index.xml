<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Upgrade Harvester on Harvester manual test cases</title>
    <link>https://harvester.github.io/tests/manual/upgrade/</link>
    <description>Recent content in Upgrade Harvester on Harvester manual test cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://harvester.github.io/tests/manual/upgrade/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Rejoin node machine after Harvester upgrade</title>
      <link>https://harvester.github.io/tests/manual/upgrade/rejoin-node-after-upgrade/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/rejoin-node-after-upgrade/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;Related issues: &lt;a href=&#34;https://github.com/harvester/harvester/issues/2655&#34;&gt;#2655&lt;/a&gt; [BUG] reinstall 1st node&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-requirement&#34;&gt;Environment requirement&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Network environment has available VLAN id setup on DHCP server&lt;/li&gt;&#xA;&lt;li&gt;DHCP server has setup the IP range can allocate to above VLAN id&lt;/li&gt;&#xA;&lt;li&gt;Harvester node can route to DHCP server through VLAN id to retrieve IP address&lt;/li&gt;&#xA;&lt;li&gt;Network has at least two NICs&lt;/li&gt;&#xA;&lt;li&gt;Suggest not to use SMR type HDD disk&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;verification-steps&#34;&gt;Verification Steps&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Create a 3 nodes v1.0.3 Harvester cluster.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Upgrade Harvester from new cluster network design (after v1.1.0)</title>
      <link>https://harvester.github.io/tests/manual/upgrade/upgrade-from-new-network-design/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/upgrade-from-new-network-design/</guid>
      <description>&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-requirement&#34;&gt;Environment requirement&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Network environment has available VLAN id setup on DHCP server&lt;/li&gt;&#xA;&lt;li&gt;DHCP server has setup the IP range can allocate to above VLAN id&lt;/li&gt;&#xA;&lt;li&gt;Harvester node can route to DHCP server through VLAN id to retrieve IP address&lt;/li&gt;&#xA;&lt;li&gt;Network has at least two NICs&lt;/li&gt;&#xA;&lt;li&gt;Suggest not to use SMR type HDD disk&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;We can select VM or Bare machine network setup according to available resource&lt;/p&gt;</description>
    </item>
    <item>
      <title>Upgrade Harvester from traditonal cluster network design (before v1.1.0)</title>
      <link>https://harvester.github.io/tests/manual/upgrade/upgrade-from-traditional-network-design/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/upgrade-from-traditional-network-design/</guid>
      <description>&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-requirement&#34;&gt;Environment requirement&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Network environment has available VLAN id setup on DHCP server&lt;/li&gt;&#xA;&lt;li&gt;DHCP server has setup the IP range can allocate to above VLAN id&lt;/li&gt;&#xA;&lt;li&gt;Harvester node can route to DHCP server through VLAN id to retrieve IP address&lt;/li&gt;&#xA;&lt;li&gt;Network has at least two NICs&lt;/li&gt;&#xA;&lt;li&gt;Network has at least two NICs&lt;/li&gt;&#xA;&lt;li&gt;Suggest not to use SMR type HDD disk&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;We can select VM or Bare machine network setup according to available resource&lt;/p&gt;</description>
    </item>
    <item>
      <title>Upgrade Harvester in Fully Airgapped Environment</title>
      <link>https://harvester.github.io/tests/manual/upgrade/fully-airgapped-upgrade/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/fully-airgapped-upgrade/</guid>
      <description>&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-requirement&#34;&gt;Environment requirement&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Airgapped Network without internet connectivity&lt;/li&gt;&#xA;&lt;li&gt;Network environment has available VLAN id setup on DHCP server&lt;/li&gt;&#xA;&lt;li&gt;DHCP server has setup the IP range can allocate to above VLAN id&lt;/li&gt;&#xA;&lt;li&gt;Harvester node can route to DHCP server through VLAN id to retrieve IP address&lt;/li&gt;&#xA;&lt;li&gt;Network has at least two NICs&lt;/li&gt;&#xA;&lt;li&gt;Suggest not to use SMR type HDD disk&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h4 id=&#34;we-can-select-vm-or-bare-machine-network-setup-according-to-your-available-resource&#34;&gt;We can select VM or Bare machine network setup according to your available resource&lt;/h4&gt;&#xA;&lt;h2 id=&#34;virtual-machine-environment-setup&#34;&gt;Virtual Machine environment setup&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Clone ipxe-example &lt;a href=&#34;https://github.com/harvester/ipxe-examples&#34;&gt;https://github.com/harvester/ipxe-examples&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Switch to v1.0 or main branch&lt;/li&gt;&#xA;&lt;li&gt;Edit Vagrantfile, add a new network interface of &lt;code&gt;pxe_server.vm.network&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Set the &lt;code&gt;pxe_server.vm.network&lt;/code&gt; bond to correct &lt;code&gt;libvirt&lt;/code&gt; network&lt;/li&gt;&#xA;&lt;li&gt;Add two additional new network interface of &lt;code&gt;harvester_node.vm.network&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Edit the settings.yml, set &lt;code&gt;harvester_network_config.offline: true&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Use ipxe-example to provision a multi nodes Harvester cluster&lt;/li&gt;&#xA;&lt;li&gt;Run &lt;code&gt;varant ssh pxe_server&lt;/code&gt; to access pxe server&lt;/li&gt;&#xA;&lt;li&gt;Edit the &lt;code&gt;dhcpd.conf&lt;/code&gt;, let pxe server can create a vlan and assign IP to it&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;bare-machine-environment-setup&#34;&gt;Bare machine environment setup&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Ensure your switch router have setup VLAN network&lt;/li&gt;&#xA;&lt;li&gt;Setup the VLAN connectivity to your Router/Gateway device&lt;/li&gt;&#xA;&lt;li&gt;Disable internet connectivity on Router&lt;/li&gt;&#xA;&lt;li&gt;Provision a multi nodes Harvester cluster&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;verification-steps&#34;&gt;Verification Steps&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;For &lt;code&gt;VLAN 1&lt;/code&gt; testing, enable network on settings, select &lt;code&gt;harvester-mgmt&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Upgrade Harvester with bonded NICs on network</title>
      <link>https://harvester.github.io/tests/manual/upgrade/bonded-nics-traditional-network-upgrade/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/bonded-nics-traditional-network-upgrade/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;Related issues: &lt;a href=&#34;https://github.com/harvester/harvester/issues/3047&#34;&gt;#3047&lt;/a&gt; [BUG] migrate_harv_mgmt_to_mgmt_br.sh should remove ClusterNetwork resource&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-setup-from-v103-upgrade-to-v111&#34;&gt;Environment setup from v1.0.3 upgrade to v1.1.1&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Clone ipxe-example and switch to &lt;code&gt;v1.0&lt;/code&gt; branch&lt;/li&gt;&#xA;&lt;li&gt;Add three additional Network interface in &lt;code&gt;Vagrantfile&lt;/code&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  harvester_node.vm.network &amp;#39;private_network&amp;#39;,&#xA;    libvirt__network_name: &amp;#39;harvester&amp;#39;,&#xA;    mac: @settings[&amp;#39;harvester_network_config&amp;#39;][&amp;#39;cluster&amp;#39;][node_number][&amp;#39;mac&amp;#39;]&#xA;  harvester_node.vm.network &amp;#39;private_network&amp;#39;,&#xA;    libvirt__network_name: &amp;#39;harvester&amp;#39;&#xA;  harvester_node.vm.network &amp;#39;private_network&amp;#39;,&#xA;    libvirt__network_name: &amp;#39;harvester&amp;#39;&#xA;  harvester_node.vm.network &amp;#39;private_network&amp;#39;,&#xA;    libvirt__network_name: &amp;#39;harvester&amp;#39;&#xA;&lt;/code&gt;&lt;/pr</description>
    </item>
    <item>
      <title>Upgrade Harvester with HDD Disks</title>
      <link>https://harvester.github.io/tests/manual/upgrade/upgrade-with-hdd-disk/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/upgrade-with-hdd-disk/</guid>
      <description>&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-requirement&#34;&gt;Environment requirement&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Network environment has available VLAN id setup on DHCP server&lt;/li&gt;&#xA;&lt;li&gt;DHCP server has setup the IP range can allocate to above VLAN id&lt;/li&gt;&#xA;&lt;li&gt;Harvester node can route to DHCP server through VLAN id to retrieve IP address&lt;/li&gt;&#xA;&lt;li&gt;Network has at least two NICs&lt;/li&gt;&#xA;&lt;li&gt;Use HDD disk with SMR type or slow I/O speed&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;n1-103:~ # smartctl -a /dev/sda&#xA;smartctl 7.2 2021-09-14 r5237...&#xA;=== START OF INFORMATION SECTION ===&#xA;Model Family:     Seagate BarraCuda 3.5 (SMR)&#xA;&lt;/code&gt;&lt;/pr</description>
    </item>
    <item>
      <title>Upgrade Harvester with IPv6 DHCP</title>
      <link>https://harvester.github.io/tests/manual/upgrade/ipv6-dhcp-upgrade/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://harvester.github.io/tests/manual/upgrade/ipv6-dhcp-upgrade/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;Related issues: &lt;a href=&#34;https://github.com/harvester/harvester/issues/2962&#34;&gt;#2962&lt;/a&gt; [BUG] Host IP is inconsistent&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;category&#34;&gt;Category:&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Upgrade Harvester&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;environment-setup&#34;&gt;Environment setup&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Open the virtual machine manager&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Open the Connection Details -&amp;gt; Virtual Networks&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Create a new virtual network &lt;code&gt;workload&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Add the following XML content&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;network&amp;gt;&#xA;&amp;lt;name&amp;gt;workload&amp;lt;/name&amp;gt;&#xA;&amp;lt;uuid&amp;gt;ac62e6bf-6869-41a9-a2b7-25c06c7601c9&amp;lt;/uuid&amp;gt;&#xA;&amp;lt;forward mode=&amp;#34;nat&amp;#34;&amp;gt;&#xA;    &amp;lt;nat&amp;gt;&#xA;    &amp;lt;port start=&amp;#34;1024&amp;#34; end=&amp;#34;65535&amp;#34;/&amp;gt;&#xA;    &amp;lt;/nat&amp;gt;&#xA;&amp;lt;/forward&amp;gt;&#xA;&amp;lt;bridge name=&amp;#34;virbr5&amp;#34; stp=&amp;#34;on&amp;#34; delay=&amp;#34;0&amp;#34;/&amp;gt;&#xA;&amp;lt;mac address=&amp;#34;52:54:00:7b:ed:99&amp;#34;/&amp;gt;&#xA;&amp;lt;domain name=&amp;#34;workload&amp;#34;/&amp;gt;&#xA;&amp;lt;ip address=&amp;#34;192.168.101.1&amp;#34; netmask=&amp;#34;255.255.255.0&amp;#34;&amp;gt;&#xA;    &amp;lt;dhcp&amp;gt;&#xA;    &amp;lt;range start=&amp;#34;192.168.101.128&amp;#34; end=&amp;#34;192.168.101.254&amp;#34;/&amp;gt;&#xA;    &amp;lt;/dhcp&amp;gt;&#xA;&amp;lt;/ip&amp;gt;&#xA;&amp;lt;ip family=&amp;#34;ipv6&amp;#34; address=&amp;#34;fd7d:844d:3e17:f3ae::1&amp;#34; prefix=&amp;#34;64&amp;#34;&amp;gt;&#xA;    &amp;lt;dhcp&amp;gt;&#xA;    &amp;lt;range start=&amp;#34;fd7d:844d:3e17:f3ae::100&amp;#34; end=&amp;#34;fd7d:844d:3e17:f3ae::1ff&amp;#34;/&amp;gt;&#xA;    &amp;lt;/dhcp&amp;gt;&#xA;&amp;lt;/ip&amp;gt;&#xA;&amp;lt;/network&amp;gt;&#xA;&lt;/code&gt;&lt;/pr</description>
    </item>
  </channel>
</rss>
